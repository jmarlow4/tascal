<nav class="nav has-shadow">
  <div class="nav-left">
    <h3 class="nav-item title chewy">Tascal</h3>
  </div>
  <div class="nav-right">
    <div class="nav-item">
      <button #userBoxButton
              class="button"
              [ngClass]="{
              'is-primary': authenticated,
              'is-loading': authenticating
              }"
              (click)="showUserBox()">
        <i [ngClass]="{
            'icon-user' : !userBoxShown,
            'icon-close' : userBoxShown}"></i>
      </button>
    </div>
    <div #userBox>
      <div class="panel"
           *ngIf="userBoxShown && !authenticated">
        <div class="panel-tabs">
          <a [ngClass]="{'is-active': !isSigningUp}" (click)="setLoginState(false)">Login</a>
          <a [ngClass]="{'is-active': isSigningUp}" (click)="setLoginState(true)">Sign Up</a>
        </div>
        <div class="panel-block">
          <div class="content">
            <tas-loginform (isAuthenticating)="showSpinner($event)"
                           *ngIf="!isSigningUp"></tas-loginform>
            <tas-signupform (isAuthenticating)="showSpinner($event)"
                            *ngIf="isSigningUp"></tas-signupform>
          </div>
        </div>
      </div>
      
      <div class="panel"
           *ngIf="userBoxShown && authenticated">
        <div class="panel-block">
          <div class="content">
            <p>Signed in as <strong>{{userEmail}}</strong></p>
            <button class="button is-primary is-fullwidth" (click)="logout()">
              <i class="icon-logout"></i>&nbsp;Log Out
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>
